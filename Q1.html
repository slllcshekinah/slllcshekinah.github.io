<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
    <title>2024年，我參與的事奉團隊是？</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport" title="2024年，我參與的事奉團隊是？">
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">
    <!-- jQuery library -->
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.slim.min.js"></script>
    <!-- Popper JS -->
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <!-- Latest compiled JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>
    <style>
        html, body {
    margin: 0;
    padding: 0;
    height: 100%;
}
       
        body {
    background: url('https://github.com/slllcshekinah/slllcshekinah.github.io/blob/main/%E5%95%8F%E9%A1%8C1-01.jpg?raw=true') no-repeat center center fixed;
    background-size: cover;
    height: 100vh; /* 視窗高度 */
}

        .container {
            background: rgba(255, 255, 255, 0.8); /* 半透明背景 */
            padding: 20px;
            border-radius: 10px;
            margin-top: 10%;
        }

        .form-group label {
            font-weight: bold;
        }

        .btn-primary {
            width: 100%;
        }
    </style>
</head>

<body>
    <!-- 隱藏的 iframe -->
    <iframe name="hidden_iframe" id="hidden_iframe" style="display:none;" onload="handleFormSuccess();"></iframe>

    <form id="restaurant-form" action="https://docs.google.com/forms/d/e/1FAIpQLSd0lKpj1yPeHa3lVXc7VvKe3eShZa2Mkebx8DGYvtmLpdtapQ/formResponse" method="post" target="hidden_iframe" onsubmit="disableSubmitButton();">
        <div class="container">
            <div class="form-group">
                <label for="fname">2024年，我參與的事奉團隊是？(一次填寫一個)<span style="color:red">*</span></label>
                <input type="text" class="form-control input-lg" id="fname" name="entry.1804309397" onchange="hideAlert('alert-name');">
                <div class="form-alert-message inline-message" id="alert-name" style="display: none; color: red;">請不要空白QQ</div>
            </div>
            <div class="text-center">
                <input type="submit" value="送  出" id="btn-submit-pledge" style="color:white;" class="btn btn-primary">
            </div>
        </div>
    </form>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
    const bodyStyle = getComputedStyle(document.body);
    const topPadding = parseInt(bodyStyle.getPropertyValue('padding-top')) || 0;
    document.body.style.paddingTop = `${topPadding + window.innerHeight * 0.02}px`; // 自適應2%高度
});
        
        // 隱藏錯誤提示
        function hideAlert(alertId) {
            document.getElementById(alertId).style.display = 'none';
        }

        // 禁用送出按鈕
        function disableSubmitButton() {
            document.getElementById('btn-submit-pledge').disabled = true;
        }

        // 處理表單送出成功後的行為
        function handleFormSuccess() {
            const inputField = document.getElementById('fname');
            
            // 如果欄位內容為空，則不執行後續動作（避免第一次載入時執行）
            if (!inputField.value.trim()) {
                location.reload();
                return;
            }

            // 顯示成功提示
            alert('成功送出！');

            // 清空表單欄位
            document.getElementById('restaurant-form').reset();

            // 重新啟用送出按鈕
            document.getElementById('btn-submit-pledge').disabled = false;
        }
    </script>
</body>

</html>
