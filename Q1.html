<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
    <title>2024年，我參與的事奉團隊是？</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport" title="2024年，我參與的事奉團隊是？">
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">
    <!-- jQuery library -->
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.slim.min.js"></script>
    <!-- Popper JS -->
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <!-- Latest compiled JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>
    <style>
        html, body {
            margin: 0;
            padding: 0;
            height: 100%;
        }
        
        body {
            background: url('https://github.com/slllcshekinah/slllcshekinah.github.io/blob/main/%E5%95%8F%E9%A1%8C1-01.jpg?raw=true') no-repeat center center fixed;
            background-size: cover;
        }

        .form-group {
            position: fixed; /* 固定於畫面上 */
            top: 38%; /* 設定頂部距離為視窗高度的 30% */
            left: 50%; /* 水平置中 */
            transform: translate(-50%, -50%); /* 修正位置偏移 */
            padding: 20px;
            border-radius: 10px;
            width: 80%; /* 適合行動裝置的寬度 */
            max-width: 400px; /* 限制最大寬度 */
        }

        .btn-submit-image {
            position: fixed; /* 固定於畫面上 */
            top: 45%; /* 設定頂部距離為視窗高度的 30% */
            left: 50%; /* 距離視窗左側 50% */
            transform: translate(-50%, -50%); /* 位移到中心並放大 1.5 倍 */
            width: 30%; /* 設定寬度為手機寬度的 30% */
            height: auto; /* 確保比例不變 */
            border: none; /* 移除按鈕邊框 */
            cursor: pointer; /* 滑鼠變成手形 */
        }

    </style>
</head>

<body>
    <!-- 隱藏的 iframe -->
    <iframe name="hidden_iframe" id="hidden_iframe" style="display:none;" onload="handleFormSuccess();"></iframe>
    <form id="restaurant-form" action="https://docs.google.com/forms/d/e/1FAIpQLSd0lKpj1yPeHa3lVXc7VvKe3eShZa2Mkebx8DGYvtmLpdtapQ/formResponse" method="post" target="hidden_iframe" onsubmit="disableSubmitButton();">
        <div class="form-group">
                <input type="text" class="form-control input-lg" id="fname" name="entry.1804309397" onchange="hideAlert('alert-name');">
            </div>
            <div class="text-center">
    <input type="image" src="https://github.com/slllcshekinah/slllcshekinah.github.io/blob/main/Go-02.png?raw=true" alt="送出" id="btn-submit-pledge" class="btn-submit-image">
</div>

    </form>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
    const bodyStyle = getComputedStyle(document.body);
    const topPadding = parseInt(bodyStyle.getPropertyValue('padding-top')) || 0;
    document.body.style.paddingTop = `${topPadding + window.innerHeight * 0.02}px`; // 自適應2%高度
});
        
        // 隱藏錯誤提示
        function hideAlert(alertId) {
            document.getElementById(alertId).style.display = 'none';
        }

        // 禁用送出按鈕
        function disableSubmitButton() {
            document.getElementById('btn-submit-pledge').disabled = true;
        }

        // 處理表單送出成功後的行為
        function handleFormSuccess() {
            const inputField = document.getElementById('fname');
            
            // 如果欄位內容為空，則不執行後續動作（避免第一次載入時執行）
            if (!inputField.value.trim()) {
                location.reload();
                return;
            }

            // 顯示成功提示
            alert('成功送出！');

            // 清空表單欄位
            document.getElementById('restaurant-form').reset();

            // 重新啟用送出按鈕
            document.getElementById('btn-submit-pledge').disabled = false;
        }
    </script>
</body>

</html>
